{
  'targets': [
    {
      'target_name': 'liblzma',
      'type': '<(library)',
      'sources': [
        'delta/delta_common.c',
        'delta/delta_encoder.c',
        'delta/delta_decoder.c',
        'common/filter_flags_decoder.c',
        'common/filter_buffer_encoder.c',
        'common/index.c',
        'common/filter_encoder.c',
        'common/vli_encoder.c',
        'common/auto_decoder.c',
        'common/stream_flags_common.c',
        'common/block_util.c',
        'common/block_decoder.c',
        'common/easy_encoder.c',
        'common/vli_decoder.c',
        'common/filter_common.c',
        'common/stream_flags_encoder.c',
        'common/block_encoder.c',
        'common/filter_buffer_decoder.c',
        'common/stream_flags_decoder.c',
        'common/easy_decoder_memusage.c',
        'common/block_header_encoder.c',
        'common/index_decoder.c',
        'common/common.c',
        'common/filter_flags_encoder.c',
        'common/filter_decoder.c',
        'common/easy_buffer_encoder.c',
        'common/block_buffer_encoder.c',
        'common/alone_decoder.c',
        'common/alone_encoder.c',
        'common/stream_encoder.c',
        'common/easy_preset.c',
        'common/index_encoder.c',
        'common/index_hash.c',
        'common/block_header_decoder.c',
        'common/block_buffer_decoder.c',
        'common/easy_encoder_memusage.c',
        'common/vli_size.c',
        'common/stream_buffer_decoder.c',
        'common/stream_decoder.c',
        'common/stream_buffer_encoder.c',
        'lz/lz_encoder.c',
        'lz/lz_encoder_mf.c',
        'lz/lz_decoder.c',
        'simple/armthumb.c',
        'simple/simple_coder.c',
        'simple/x86.c',
        'simple/arm.c',
        'simple/simple_decoder.c',
        'simple/simple_encoder.c',
        'simple/sparc.c',
        'simple/ia64.c',
        'simple/powerpc.c',
        'check/crc64_table.c',
        'check/crc64_x86.S',
        'check/check.c',
        'check/crc32_table.c',
        'check/crc32_x86.S',
        'check/sha256.c',
        'rangecoder/price_table.c',
        'lzma/lzma_encoder_optimum_normal.c',
        'lzma/lzma2_decoder.c',
        'lzma/lzma_decoder.c',
        'lzma/lzma_encoder.c',
        'lzma/fastpos_table.c',
        'lzma/lzma_encoder_presets.c',
        'lzma/lzma_encoder_optimum_fast.c',
        'lzma/lzma2_encoder.c',
      ],
      'include_dirs': [
        # Listed in the same order that they appear during the xzutils
        # build process.
        'api',
        'common',
        'check',
        'lz',
        'rangecoder',
        'lzma',
        'subblock',
        'delta',
        'simple',
        'xz/src/common',
        'arch/<(OS)/<(target_arch)/include',
      ],
      'defines': [
        'HAVE_CONFIG_H',
      ],
      'conditions': [
        ['OS == "linux"', {
          'cflags': [
            '-std=gnu99',
          ],
        }],
      ],
      'direct_dependent_settings': {
        'include_dirs': [
          'api',
        ],
      },
    },
  ],
}
